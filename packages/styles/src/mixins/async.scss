@use 'sass:map';
@use './createMod.scss' as *;


%styleVal {
  width: 2px;
}

@mixin getStyle($data) {

  @each $key,
  $val in $data {
    #{$key}: #{$val};
  }
}

@mixin async($data, $block) {
  @if $data {
    @include asyncClass(map.get($data, class), $block, '');
    @include asyncAttr(map.get($data, attr), $block);
    @include asyncMedia(map.get($data, media), $block);
  }
}

@function getNames($names, $block, $lx) {
  $nameVal: "";
  $val: "";

  @each $name in $names {
    $i: index($names, $name);

    @if $name ==def {
      @if $i ==1 {
        $nameVal: "&";
      }

      @else {
        $nameVal: $nameVal",&";
      }
    }

    @else {
      @if $i ==1 {
        $nameVal: getClassName($block, $lx, $name);
      }

      @else {
        $nameVal: $nameVal"," getClassName($block, $lx, $name);
      }
    }
  }

  @return $nameVal;
}

@mixin asyncClass($data, $block, $lx) {

  @if $data {
    $style: map.get($data, style);
    $style-none: map.get($data, style-none);
    $child: map.get($data, child);

    @if $style {}

    @if $style-none {

      @each $names,
      $val in $style-none {

        #{getNames($names, $block, $lx)} {
          @include getStyle($val)
        }
      }
    }

    @if $child {}
  }
}

@mixin asyncAttr($data, $block) {
  @if $data {
    // width: 1em;
  }
}

@mixin asyncMedia($data, $block) {
  @if $data {
    // max-width: 1em;
  }
}